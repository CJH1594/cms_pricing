# CMS Pricing 프로젝트
본 프로젝트는 다음 페이지에 이론적 기반을 둡니다: https://www.notion.so/CMS-284b75d0f444809e8740e1d929960859?source=copy_link

본 프로젝트는 CMS(Contingent Money Swap) 스프레드 노트와 그 가중합으로 해석되는 CMS SPREAD STEP-UP 노트의
시장 데이터를 분석하고, 금리모형(G2++)을 보정하여 상품 가격을 산출하는 파이썬 모듈 모음입니다. 코드는 다음과 같은 원칙을 따릅니다.

프로젝트를 처음 실행할 때는 `scripts/setup_directories.py`를 이용하여 필요한 데이터 디렉터리를 생성하세요. 개별 단계 실행을 위해서는
`scripts/01_bootstrap_curve.py`, `scripts/02_calibrate_g2pp.py`, ... 스크립트를 차례로 실행하면 됩니다.

## 기준 파라미터 재현 (Benchmark Parameter Reproduction)
이 프로젝트의 초기 벤치마크 G2++ 파라미터는 아래에 명시된 특정 변동성 곡면(Volatility Surface)을 사용하여 보정(calibration)되었습니다.

현재 메인 스크립트(`scripts/02_calibrate_g2pp.py`)는 과거 데이터를 **MOVE 지수를 이용해 동적으로 리스케일링**하므로, 실행할 때마다 다른 변동성 곡면을 생성합니다. 따라서, 초기 벤치마크 결과를 정확히 재현해야 할 경우, 아래의 고정된 변동성 곡면 데이터를 모델의 입력값으로 직접 사용해야 합니다.

이는 모델 변경 후 성능을 비교하거나 특정 시점의 분석을 재현하는 데 목적이 있습니다.

---
### 1. `volatility_surface.json` 형식

프로젝트의 표준 데이터 저장/로드 형식입니다. `data` 폴더에 이 내용으로 파일을 생성하여 사용할 수 있습니다. (값은 %가 아닌 Decimal 단위입니다.)

```json
{
    "index": [
        "1M",
        "3M",
        "6M",
        "1Y",
        "2Y"
    ],
    "columns": [
        "1",
        "2",
        "5",
        "10",
        "15",
        "20",
        "30"
    ],
    "values": [
        [0.202678, 0.255312, 0.302464, 0.282292, 0.271522, 0.266217, 0.263927],
        [0.224905, 0.273986, 0.311287, 0.289181, 0.278643, 0.273464, 0.271040],
        [0.237837, 0.281086, 0.321824, 0.297264, 0.285637, 0.279954, 0.277820],
        [0.263755, 0.299305, 0.328723, 0.301342, 0.288635, 0.282127, 0.279218],
        [0.308020, 0.323266, 0.332254, 0.295804, 0.281395, 0.273363, 0.269751]
    ]
}

### 과거 ATM 스왑션 변동성 표면 (2018-04-16 기준, %)

```python
# HISTORICAL_VOL_SURFACE_PCT
[
    [12.4559, 15.6906, 18.5884, 18.7795, 18.0630, 17.7101, 17.5578],  # 1M
    [14.1064, 17.1848, 19.5244, 19.6338, 18.9183, 18.5667, 18.4021],  # 3M
    [15.3294, 18.1170, 20.7427, 20.7399, 19.9287, 19.5322, 19.3833],  # 6M
    [17.7833, 20.1802, 22.1637, 21.9932, 21.0658, 20.5908, 20.3785],  # 1Y
    [22.1572, 23.2539, 23.9005, 23.0334, 21.9114, 21.2860, 21.0047],  # 2Y
]

헐-화이트 모델 파라미터 
{
    "a": 0.02474937324354551,
    "b": 0.46165033112639653,
    "sigma": 0.010600099854823044,
    "eta": 0.023270524495971525,
    "rho": 0.6240607532436443,
    "final_error": 0.0009884010269825658,
    "iterations": 50,
    "elapsed_time_sec": 174.90578532218933,
    "status": "Maximum number of iterations has been exceeded."
}
